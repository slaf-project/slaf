<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Sparse Lazy Array Format - High-performance single-cell data storage and analysis"><meta name=author content="Pavan Ramkumar"><link href=https://slaf-project.github.io/slaf/blog/huggingface/ rel=canonical><link href=../ rel=prev><link href=../introducing-slaf/ rel=next><link rel=icon href=../../assets/slaf-icon-transparent-dark-mono.svg><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.7.1"><title>SLAF on Hugging Face - SLAF Documentation</title><link rel=stylesheet href=../../assets/stylesheets/main.484c7ddc.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.ab4e12ef.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../assets/_mkdocstrings.css><link rel=stylesheet href=../../stylesheets/extra.css><link rel=stylesheet href=../../stylesheets/logo-theme.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config",""),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#slaf-on-hugging-face class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="SLAF Documentation" class="md-header__button md-logo" aria-label="SLAF Documentation" data-md-component=logo> <img src=../../assets/slaf-icon-transparent-dark-mono.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> SLAF Documentation </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> SLAF on Hugging Face </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/slaf-project/slaf title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> slaf-project/slaf </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="SLAF Documentation" class="md-nav__button md-logo" aria-label="SLAF Documentation" data-md-component=logo> <img src=../../assets/slaf-icon-transparent-dark-mono.svg alt=logo> </a> SLAF Documentation </label> <div class=md-nav__source> <a href=https://github.com/slaf-project/slaf title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> slaf-project/slaf </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class=md-nav__item> <a href=../../getting-started/quickstart/ class=md-nav__link> <span class=md-ellipsis> Quick Start </span> </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex> <span class=md-ellipsis> User Guide </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> User Guide </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../user-guide/how-slaf-works/ class=md-nav__link> <span class=md-ellipsis> How SLAF Works </span> </a> </li> <li class=md-nav__item> <a href=../../user-guide/migrating-to-slaf/ class=md-nav__link> <span class=md-ellipsis> Migrating to SLAF </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex> <span class=md-ellipsis> Examples </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Examples </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../examples/getting-started/ class=md-nav__link> <span class=md-ellipsis> Getting Started </span> </a> </li> <li class=md-nav__item> <a href=../../examples/lazy-processing/ class=md-nav__link> <span class=md-ellipsis> Lazy Processing </span> </a> </li> <li class=md-nav__item> <a href=../../examples/ml-training/ class=md-nav__link> <span class=md-ellipsis> ML Training </span> </a> </li> <li class=md-nav__item> <a href=../../examples/sql-queries/ class=md-nav__link> <span class=md-ellipsis> SQL Queries </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex> <span class=md-ellipsis> Benchmarks </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Benchmarks </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../benchmarks/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../../benchmarks/bioinformatics_benchmarks/ class=md-nav__link> <span class=md-ellipsis> For Bioinformaticians </span> </a> </li> <li class=md-nav__item> <a href=../../benchmarks/ml_benchmarks/ class=md-nav__link> <span class=md-ellipsis> For ML Engineers </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex> <span class=md-ellipsis> API Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> API Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../api/core/ class=md-nav__link> <span class=md-ellipsis> Core </span> </a> </li> <li class=md-nav__item> <a href=../../api/data/ class=md-nav__link> <span class=md-ellipsis> Data </span> </a> </li> <li class=md-nav__item> <a href=../../api/integrations/ class=md-nav__link> <span class=md-ellipsis> Integrations </span> </a> </li> <li class=md-nav__item> <a href=../../api/ml/ class=md-nav__link> <span class=md-ellipsis> ML </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex> <span class=md-ellipsis> Development </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Development </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../development/contributing/ class=md-nav__link> <span class=md-ellipsis> For Contributors </span> </a> </li> <li class=md-nav__item> <a href=../../development/maintaining/ class=md-nav__link> <span class=md-ellipsis> For Maintainers </span> </a> </li> <li class=md-nav__item> <a href=../../development/benchmarks/ class=md-nav__link> <span class=md-ellipsis> Benchmarks </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8 checked> <label class=md-nav__link for=__nav_8 id=__nav_8_label tabindex> <span class=md-ellipsis> Blog </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_8_label aria-expanded=true> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Blog </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ class=md-nav__link> <span class=md-ellipsis> Blog Home </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> SLAF on Hugging Face </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> SLAF on Hugging Face </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#first-the-datasets class=md-nav__link> <span class=md-ellipsis> First, the datasets </span> </a> </li> <li class=md-nav__item> <a href=#the-status-quo-and-who-were-building-for class=md-nav__link> <span class=md-ellipsis> The Status Quo and Who We're Building For </span> </a> </li> <li class=md-nav__item> <a href=#lance-hugging-face-stream-to-your-compute class=md-nav__link> <span class=md-ellipsis> Lance + Hugging Face: Stream to Your Compute </span> </a> </li> <li class=md-nav__item> <a href=#three-ways-to-use-the-data class=md-nav__link> <span class=md-ellipsis> Three Ways to Use the Data </span> </a> <nav class=md-nav aria-label="Three Ways to Use the Data"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-exploratory-analysis-with-sql class=md-nav__link> <span class=md-ellipsis> 1. Exploratory analysis with SQL </span> </a> </li> <li class=md-nav__item> <a href=#2-batch-processing-streaming-scans class=md-nav__link> <span class=md-ellipsis> 2. Batch processing (streaming scans) </span> </a> </li> <li class=md-nav__item> <a href=#3-dataloading-for-training-slafdataloader class=md-nav__link> <span class=md-ellipsis> 3. Dataloading for training (SLAFDataLoader) </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#one-store-many-consumers-the-slaf-vision class=md-nav__link> <span class=md-ellipsis> One Store, Many Consumers: The SLAF Vision </span> </a> </li> <li class=md-nav__item> <a href=#how-this-happened-the-backstory class=md-nav__link> <span class=md-ellipsis> How This Happened: The Backstory </span> </a> <nav class=md-nav aria-label="How This Happened: The Backstory"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#the-hugging-face-side-streaming-and-the-hf-filesystem class=md-nav__link> <span class=md-ellipsis> The Hugging Face side: streaming and the hf:// filesystem </span> </a> </li> <li class=md-nav__item> <a href=#how-lance-and-opendal-fit-in class=md-nav__link> <span class=md-ellipsis> How Lance and OpenDAL fit in </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#beyond-single-cell-genomics-what-lance-on-hugging-face-means-for-aiml class=md-nav__link> <span class=md-ellipsis> Beyond Single-Cell Genomics: What Lance on Hugging Face Means for AI/ML </span> </a> <nav class=md-nav aria-label="Beyond Single-Cell Genomics: What Lance on Hugging Face Means for AI/ML"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#future-workloads-embeddings-vector-search-and-update-rarely class=md-nav__link> <span class=md-ellipsis> Future workloads: embeddings, vector search, and "update rarely" </span> </a> </li> <li class=md-nav__item> <a href=#what-this-unlocks-for-lance-and-hugging-face class=md-nav__link> <span class=md-ellipsis> What this unlocks for Lance and Hugging Face </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../introducing-slaf/ class=md-nav__link> <span class=md-ellipsis> Introducing SLAF </span> </a> </li> <li class=md-nav__item> <a href=../blazing-fast-dataloaders/ class=md-nav__link> <span class=md-ellipsis> Blazing Fast Dataloaders </span> </a> </li> <li class=md-nav__item> <a href=../blazing-fast-dataloaders-2/ class=md-nav__link> <span class=md-ellipsis> Mixture of Scanners </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#first-the-datasets class=md-nav__link> <span class=md-ellipsis> First, the datasets </span> </a> </li> <li class=md-nav__item> <a href=#the-status-quo-and-who-were-building-for class=md-nav__link> <span class=md-ellipsis> The Status Quo and Who We're Building For </span> </a> </li> <li class=md-nav__item> <a href=#lance-hugging-face-stream-to-your-compute class=md-nav__link> <span class=md-ellipsis> Lance + Hugging Face: Stream to Your Compute </span> </a> </li> <li class=md-nav__item> <a href=#three-ways-to-use-the-data class=md-nav__link> <span class=md-ellipsis> Three Ways to Use the Data </span> </a> <nav class=md-nav aria-label="Three Ways to Use the Data"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-exploratory-analysis-with-sql class=md-nav__link> <span class=md-ellipsis> 1. Exploratory analysis with SQL </span> </a> </li> <li class=md-nav__item> <a href=#2-batch-processing-streaming-scans class=md-nav__link> <span class=md-ellipsis> 2. Batch processing (streaming scans) </span> </a> </li> <li class=md-nav__item> <a href=#3-dataloading-for-training-slafdataloader class=md-nav__link> <span class=md-ellipsis> 3. Dataloading for training (SLAFDataLoader) </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#one-store-many-consumers-the-slaf-vision class=md-nav__link> <span class=md-ellipsis> One Store, Many Consumers: The SLAF Vision </span> </a> </li> <li class=md-nav__item> <a href=#how-this-happened-the-backstory class=md-nav__link> <span class=md-ellipsis> How This Happened: The Backstory </span> </a> <nav class=md-nav aria-label="How This Happened: The Backstory"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#the-hugging-face-side-streaming-and-the-hf-filesystem class=md-nav__link> <span class=md-ellipsis> The Hugging Face side: streaming and the hf:// filesystem </span> </a> </li> <li class=md-nav__item> <a href=#how-lance-and-opendal-fit-in class=md-nav__link> <span class=md-ellipsis> How Lance and OpenDAL fit in </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#beyond-single-cell-genomics-what-lance-on-hugging-face-means-for-aiml class=md-nav__link> <span class=md-ellipsis> Beyond Single-Cell Genomics: What Lance on Hugging Face Means for AI/ML </span> </a> <nav class=md-nav aria-label="Beyond Single-Cell Genomics: What Lance on Hugging Face Means for AI/ML"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#future-workloads-embeddings-vector-search-and-update-rarely class=md-nav__link> <span class=md-ellipsis> Future workloads: embeddings, vector search, and "update rarely" </span> </a> </li> <li class=md-nav__item> <a href=#what-this-unlocks-for-lance-and-hugging-face class=md-nav__link> <span class=md-ellipsis> What this unlocks for Lance and Hugging Face </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=slaf-on-hugging-face>SLAF on Hugging Face<a class=headerlink href=#slaf-on-hugging-face title="Permanent link">&para;</a></h1> <hr> <p>We're excited to share that <strong>SLAF datasets are now freely available and streamable on Hugging Face</strong>Â ðŸŽ‰</p> <ol> <li> <p>Three open single-cell transcriptomics datasets in SLAF format are live at <a href=https://huggingface.co/slaf-project>huggingface.co/slaf-project</a>.</p> </li> <li> <p>These datasets are streamable directly from the Huggingface Hub to your compute for exploratory analysis, batch processing, or training without bulk downloads.</p> </li> </ol> <p>If you work with 10M+ cell datasets, you've hit the ceiling of "download the h5ad and load it in memory." SLAF on Hugging Face is the alternative: same workflows, streamed from the Hub. Beyond single-cell, the <a href=https://huggingface.co/lance-format>lance-format org</a> is already hosting Lance across text, image, video, and robotics today.</p> <hr> <h2 id=first-the-datasets>First, the datasets<a class=headerlink href=#first-the-datasets title="Permanent link">&para;</a></h2> <p>We're releasing three popular datasets spanning different biology and scale in SLAF format:</p> <table> <thead> <tr> <th>Source</th> <th>Scale</th> <th>Repo</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><strong>Tahoe Therapeutics</strong></td> <td>100M cells</td> <td><a href=https://huggingface.co/datasets/slaf-project/Tahoe-100M>Tahoe-100M</a></td> <td>Chemical perturbation screen on 50 cancer cell lines</td> </tr> <tr> <td><strong>Parse Biosciences</strong></td> <td>10M cells</td> <td><a href=https://huggingface.co/datasets/slaf-project/Parse-10M>Parse-10M</a></td> <td>Cytokine-stimulated PBMCs across multiple donors</td> </tr> <tr> <td><strong>Xaira Therapeutics</strong></td> <td>6M cells</td> <td><a href=https://huggingface.co/datasets/slaf-project/X-Atlas-Orion>X-Atlas-Orion</a></td> <td>Genome-wide deeply sequenced CRISPR screen on two cell lines</td> </tr> </tbody> </table> <p>Point your code at a <code>hf://datasets/slaf-project/&lt;repo&gt;</code> URI and stream.</p> <div class="admonition warning"> <p class=admonition-title>Licenses</p> <p>Note that Tahoe is the most permissive license, whereas Parse and Xaira are free to use or reshare with attribution for non-profit use. Specific licenses and links to original versions are available in the repos.</p> </div> <div class="admonition tip"> <p class=admonition-title>Heed the rate limits</p> <p>Lance can read directly from Hugging Face's backend for free, subject to rate limits. We've currently hosted these datasets on a Pro Plan but can upgrade to better rate limits or help you host your favorite datasets on your private repo depending on usage.</p> </div> <hr> <h2 id=the-status-quo-and-who-were-building-for>The Status Quo and Who We're Building For<a class=headerlink href=#the-status-quo-and-who-were-building-for title="Permanent link">&para;</a></h2> <p>Before we get into how streaming works, it helps to see what we're moving away from and who we're building for.</p> <p><strong>The problem.</strong> The status quo for large single-cell (and many other) datasets is: copy from a public bucket to your own, then pull into local storage, load into memory with format-specific readers, and hit the usual limits: egress cost, network throughput, I/O concurrency underutilization due to the Python GIL, RAM ceilings, and libraries that perform single-threaded ops. Every researcher, app, and workload often ends up with their own copy and pipeline.</p> <p><img alt="Status quo: bottlenecks in the traditional h5ad workflow. Egress, network, I/O, GIL, RAM, single-threaded scipy.sparse" src=../figures/status-quo.png></p> <p><em>Figure 1: Status quo workload in depth.</em></p> <p><strong>Who we're building for.</strong> SLAF is designed for multiple personas: computational biologists who want to explore data without bulk downloads, data engineers who need to distribute at scale without egress blow-up, AI/ML researchers training large models efficiently, product engineers building interactive visualization on big data without self-hosting, and agent engineers who need subagents to read from a commodity sandbox. Those are exactly the personas that benefit from "point at <code>hf://</code>, stream, don't download."</p> <p><img alt="Personas SLAF aims to support" src=../figures/personas.png></p> <p><em>Figure 2: Personas SLAF needed to support.</em></p> <hr> <h2 id=lance-hugging-face-stream-to-your-compute>Lance + Hugging Face: Stream to Your Compute<a class=headerlink href=#lance-hugging-face-stream-to-your-compute title="Permanent link">&para;</a></h2> <p>Hugging Face has invested heavily in <strong>streaming at scale</strong>: fewer startup requests, faster resolution, and an <a href=https://huggingface.co/docs/huggingface_hub/guides/hf_file_system>fsspec-compatible <code>hf://</code> filesystem</a> so that any fsspec-capable library can read from the Hub without a full download. Lance's <strong><code>hf://</code></strong> support plugs into that: a Lance dataset can live on the Hugging Face Hub and be opened like this:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=kn>import</span><span class=w> </span><span class=nn>lance</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=n>ds</span> <span class=o>=</span> <span class=n>lance</span><span class=o>.</span><span class=n>dataset</span><span class=p>(</span><span class=s2>&quot;hf://datasets/slaf-project/Parse-10M/data/train/cells.lance&quot;</span><span class=p>)</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=k>for</span> <span class=n>batch</span> <span class=ow>in</span> <span class=n>ds</span><span class=o>.</span><span class=n>to_batches</span><span class=p>(</span><span class=n>batch_size</span><span class=o>=</span><span class=mi>256</span><span class=p>):</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>    <span class=c1># process batch (PyArrow RecordBatch)</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>    <span class=o>...</span>
</span></code></pre></div> <p>A URI and an iterator without <code>huggingface-cli download</code> makes it possible to run <strong>exploratory analysis</strong>, <strong>batch jobs</strong>, and <strong>training jobs</strong> directly from Hugging Face, subject to plan-specific rate limits.</p> <hr> <h2 id=three-ways-to-use-the-data>Three Ways to Use the Data<a class=headerlink href=#three-ways-to-use-the-data title="Permanent link">&para;</a></h2> <h3 id=1-exploratory-analysis-with-sql>1. Exploratory analysis with SQL<a class=headerlink href=#1-exploratory-analysis-with-sql title="Permanent link">&para;</a></h3> <p>Use SLAF's SQL layer to filter and aggregate over the dataset without loading it into memory. Example (from the <a href=https://huggingface.co/slaf-project>Hugging Face README</a>):</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=kn>from</span><span class=w> </span><span class=nn>slaf</span><span class=w> </span><span class=kn>import</span> <span class=n>SLAFArray</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=n>slaf_array</span> <span class=o>=</span> <span class=n>SLAFArray</span><span class=p>(</span><span class=s2>&quot;hf://datasets/slaf-project/Parse-10M&quot;</span><span class=p>)</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=n>results</span> <span class=o>=</span> <span class=n>slaf_array</span><span class=o>.</span><span class=n>query</span><span class=p>(</span><span class=s2>&quot;&quot;&quot;</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=s2>    SELECT</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=s2>        cytokine,</span>
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=s2>        cell_type,</span>
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a><span class=s2>        AVG(gene_count) as avg_gene_count</span>
</span><span id=__span-1-9><a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a><span class=s2>    FROM cells</span>
</span><span id=__span-1-10><a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a><span class=s2>    WHERE donor = &#39;Donor10&#39;</span>
</span><span id=__span-1-11><a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a><span class=s2>      AND cytokine IN (&#39;C5a&#39;, &#39;CD40L&#39;)</span>
</span><span id=__span-1-12><a id=__codelineno-1-12 name=__codelineno-1-12 href=#__codelineno-1-12></a><span class=s2>    GROUP BY cytokine, cell_type</span>
</span><span id=__span-1-13><a id=__codelineno-1-13 name=__codelineno-1-13 href=#__codelineno-1-13></a><span class=s2>    ORDER BY cytokine, avg_gene_count DESC</span>
</span><span id=__span-1-14><a id=__codelineno-1-14 name=__codelineno-1-14 href=#__codelineno-1-14></a><span class=s2>&quot;&quot;&quot;</span><span class=p>)</span>
</span></code></pre></div> <p>Queries are executed with predicate and projection pushdown against the Lance tables on the Hub; only the columns and rows needed for the result are streamed.</p> <h3 id=2-batch-processing-streaming-scans>2. Batch processing (streaming scans)<a class=headerlink href=#2-batch-processing-streaming-scans title="Permanent link">&para;</a></h3> <p>For full-table or large scans (e.g. normalization, aggregation, export), you can stream batches from Hugging Face and process them in a pipeline. We benchmarked streaming from <strong>three sources</strong>:</p> <ul> <li>the <strong>Hugging Face Hub</strong> (dataset repo),</li> <li>an <strong>S3 bucket in the same availability zone</strong> as the worker,</li> <li>and a <strong>colocated Modal volume</strong> (data local to the worker).</li> </ul> <p>For the Hugging Face source we compared the <strong>Datasets library's native streaming</strong> (<code>load_dataset(..., streaming=True)</code>) with <strong>Lance over <code>hf://</code></strong> (same repo, same table). The S3 and Modal volume runs use Lance only, as reference points for same-region object storage and colocated NFS-like store.</p> <p>We streamed <strong>~5.12M records</strong> from the Tahoe-100M cells table (batch size 256 Ã— 20,000 batches) to a Modal worker:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a>Throughput (MiB/s)
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>Modal volume (lance)   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 189.72
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a>Tigris S3 (lance)      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 62.06
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a>HF repo (lance)        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 44.84
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a>HF repo (datasets)     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 29.53
</span><span id=__span-2-7><a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
</span><span id=__span-2-8><a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a>                       0    50   100   150   200
</span></code></pre></div> <div class="admonition success"> <p class=admonition-title>Takeaways</p> <p><strong>Lance over <code>hf://</code></strong> is <strong>~1.5Ã— faster</strong> than the Datasets library's native streaming on the same HF repo (44.84 vs 29.53 MiB/s).</p> <p>Note that the <a href=https://huggingface.co/blog/streaming-datasets>Hugging Face team has invested in several optimizations for Parquet streaming</a> (e.g. persistent file-list cache, prefetching, configurable buffering), which have made <code>load_dataset(..., streaming=True)</code> much more efficient for Parquet-backed datasets. The same level of tuning is not yet in place for Lance in the Datasets library. Small improvements there could likely bring Datasets streaming to parity with Lance over <code>hf://</code> for Lance-backed repos. Meanwhile, for batch processing or training jobs that stream from the Hub, Lance's <code>hf://</code> support gives you a meaningful throughput gain over Datasets streaming without leaving the Hugging Face ecosystem.</p> <p>Same-region S3 (Tigris) with Lance is faster still (62.06 MiB/s), and a colocated Modal volume gives the highest throughput (189.72 MiB/s), as expected when data is local to the worker.</p> </div> <h3 id=3-dataloading-for-training-slafdataloader>3. Dataloading for training (SLAFDataLoader)<a class=headerlink href=#3-dataloading-for-training-slafdataloader title="Permanent link">&para;</a></h3> <p>For foundation-model-style training on tokenized cell sentences, use <code>SLAFDataLoader</code> with an <code>hf://</code> SLAF dataset so batches are streamed from Hugging Face, randomized and tokenized on the fly:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=kn>from</span><span class=w> </span><span class=nn>slaf</span><span class=w> </span><span class=kn>import</span> <span class=n>SLAFArray</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class=kn>from</span><span class=w> </span><span class=nn>slaf.ml.dataloaders</span><span class=w> </span><span class=kn>import</span> <span class=n>SLAFDataLoader</span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a><span class=n>slaf_array</span> <span class=o>=</span> <span class=n>SLAFArray</span><span class=p>(</span><span class=s2>&quot;hf://datasets/slaf-project/Parse-10M&quot;</span><span class=p>)</span>
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a><span class=n>dataloader</span> <span class=o>=</span> <span class=n>SLAFDataLoader</span><span class=p>(</span>
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a>    <span class=n>slaf_array</span><span class=o>=</span><span class=n>slaf_array</span><span class=p>,</span>
</span><span id=__span-3-7><a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a>    <span class=n>tokenizer_type</span><span class=o>=</span><span class=s2>&quot;geneformer&quot;</span><span class=p>,</span>
</span><span id=__span-3-8><a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a>    <span class=n>batch_size</span><span class=o>=</span><span class=mi>32</span><span class=p>,</span>
</span><span id=__span-3-9><a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a>    <span class=n>max_genes</span><span class=o>=</span><span class=mi>2048</span><span class=p>,</span>
</span><span id=__span-3-10><a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a>    <span class=n>vocab_size</span><span class=o>=</span><span class=mi>50000</span><span class=p>,</span>
</span><span id=__span-3-11><a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a>    <span class=n>prefetch_batch_size</span><span class=o>=</span><span class=mi>1_000_000</span>
</span><span id=__span-3-12><a id=__codelineno-3-12 name=__codelineno-3-12 href=#__codelineno-3-12></a><span class=p>)</span>
</span><span id=__span-3-13><a id=__codelineno-3-13 name=__codelineno-3-13 href=#__codelineno-3-13></a><span class=k>for</span> <span class=n>batch</span> <span class=ow>in</span> <span class=n>dataloader</span><span class=p>:</span>
</span><span id=__span-3-14><a id=__codelineno-3-14 name=__codelineno-3-14 href=#__codelineno-3-14></a>    <span class=n>input_ids</span> <span class=o>=</span> <span class=n>batch</span><span class=p>[</span><span class=s2>&quot;input_ids&quot;</span><span class=p>]</span>
</span><span id=__span-3-15><a id=__codelineno-3-15 name=__codelineno-3-15 href=#__codelineno-3-15></a>    <span class=n>attention_mask</span> <span class=o>=</span> <span class=n>batch</span><span class=p>[</span><span class=s2>&quot;attention_mask&quot;</span><span class=p>]</span>
</span><span id=__span-3-16><a id=__codelineno-3-16 name=__codelineno-3-16 href=#__codelineno-3-16></a>    <span class=c1># Your training code here</span>
</span></code></pre></div> <p>Same API as with a local or S3 path; only the URI changes. The dataloader's prefetcher and tokenization run on the stream coming from the Hub.</p> <hr> <h2 id=one-store-many-consumers-the-slaf-vision>One Store, Many Consumers: The SLAF Vision<a class=headerlink href=#one-store-many-consumers-the-slaf-vision title="Permanent link">&para;</a></h2> <p>The three use cases above: exploratory data analysis, batch processing, and training, all point at the same <code>hf://</code> datasets and stream only what they need. That's the SLAF vision operationlized: one public store (Lance in a bucket or on the Hub) feeding many consumers: researcher notebooks (Polars, LazyAnnData), training pipelines (Polars, SLAFDataLoader, PyTorch), visualization apps (Polars, LanceDB), batch pipelines, and agent sandboxes. That architecture eliminates repeated egress and duplicate copies, and enables true concurrency, multithreading, commodity RAM/CPU, and independent scaling of compute. Hugging Face is one of the ways we get that "public bucket" in front of everyone: same datasets, same <code>hf://</code> path, streamed on demand.</p> <p><img alt="SLAF vision: one public Lance store feeding many consumers, eliminating egress and duplication, enabling concurrency and scaling" src=../figures/vision.png></p> <p><em>Figure 3: The SLAF vision: one store, many consumers.</em></p> <p>Putting SLAF on the Hub brings that vision closer: streaming from a central, well-known store without bulk downloads, so more of these workloads can run against the same data the same way.</p> <hr> <h2 id=how-this-happened-the-backstory>How This Happened: The Backstory<a class=headerlink href=#how-this-happened-the-backstory title="Permanent link">&para;</a></h2> <p>Lance-on-HuggingFace didn't happen in a vacuum. It sits on top of Hugging Face's investment in <strong>streaming at scale</strong> and their <strong>fsspec-compatible <code>hf://</code> filesystem</strong>, starting with a concrete use case: making Lance (and SLAF) readable from the Hub without downloading hundreds of GB.</p> <h3 id=the-hugging-face-side-streaming-and-the-hf-filesystem>The Hugging Face side: streaming and the <code>hf://</code> filesystem<a class=headerlink href=#the-hugging-face-side-streaming-and-the-hf-filesystem title="Permanent link">&para;</a></h3> <p>Hugging Face has been on a tear with <strong>streaming datasets</strong>. In their October 2025 post <a href=https://huggingface.co/blog/streaming-datasets><em>Streaming datasets: 100Ã— More Efficient</em></a>, they detailed the problem: at scale, <em>every</em> DataLoader worker used to initialize the dataset on its own, hammering the Hub with <strong>100,000+ requests per minute</strong> and getting IPs blocked. Their solution: a <strong>persistent file-list cache</strong> (so only the first worker hits the Hub, the rest share) plus <strong>smarter resolution logic</strong>, cutting startup requests by as much as <strong>100Ã—</strong>, making resolution <strong>10Ã— faster</strong>, and <em>doubling</em> streaming throughput. Now Hugging Face trains nanoVLM by streaming from the Hub, getting performance that rivals reading from local SSDs ðŸ¤¯</p> <p>For <strong>custom formats</strong> (like Lance), they didn't leave you with only <code>load_dataset(..., streaming=True)</code>. They improved the <strong><a href=https://huggingface.co/docs/huggingface_hub/guides/hf_file_system>HfFileSystem</a></strong> in <code>huggingface_hub</code>: an <strong>fsspec-compatible</strong> interface so that any library that speaks fsspec can read from the Hub using the <strong><code>hf://</code></strong> URI scheme. From the docs:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=kn>from</span><span class=w> </span><span class=nn>huggingface_hub</span><span class=w> </span><span class=kn>import</span> <span class=n>HfFileSystem</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a>
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a><span class=n>path</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;hf://datasets/</span><span class=si>{</span><span class=n>dataset_id</span><span class=si>}</span><span class=s2>/</span><span class=si>{</span><span class=n>path_in_repo</span><span class=si>}</span><span class=s2>&quot;</span>
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a><span class=k>with</span> <span class=n>HfFileSystem</span><span class=p>()</span><span class=o>.</span><span class=n>open</span><span class=p>(</span><span class=n>path</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span><span id=__span-4-5><a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a>    <span class=c1># stream with .read() / .readline(), or random access with .seek()</span>
</span></code></pre></div> <p>The <a href=https://huggingface.co/docs/huggingface_hub/guides/hf_file_system>documentation</a> spells it out: <em>"The HfFileSystem can be used with any library that integrates fsspec, provided the URL follows the scheme."</em> That's how Pandas, Dask, Polars, DuckDB, and Zarr already work with the Hub, and how Lance now plugs in.</p> <h3 id=how-lance-and-opendal-fit-in>How Lance and OpenDAL fit in<a class=headerlink href=#how-lance-and-opendal-fit-in title="Permanent link">&para;</a></h3> <p>Our side started with a <a href=https://github.com/huggingface/datasets/issues/7863><strong>GitHub issue</strong></a> asking whether the <code>datasets</code> library could stream <strong>Lance</strong> and other modern table formats stored on the Hugging Face Hub so that SLAF (and others) could serve large tabular/scientific datasets in <strong>Lance</strong> format without full-dataset downloads.</p> <p>That led to collaboration across several projects:</p> <ul> <li><strong>Hugging Face</strong>'s work on streaming and the fsspec-compatible filesystem meant that Lance's access patterns (range requests, listing, etc.) already had a solid, documented foundation to build on.</li> <li><strong>OpenDAL</strong> (the unified data access layer Lance uses for cloud I/O) added a Hugging Face backend (<a href=https://github.com/apache/opendal/pull/6801>#6801</a> feat(hugginface): allow specifying huggingface endpoint), so <code>hf://</code> URIs resolve to the Hub and Lance can read from it.</li> <li><strong>Lance</strong> added support for the <strong><code>hf://</code></strong> URI scheme (<a href=https://github.com/lance-format/lance/pull/5353>#5353</a> feat: add huggingface native support), so <code>lance.dataset("hf://datasets/org/repo/path/to/table.lance")</code> works against the same Hub storage and CDN that HfFileSystem uses.</li> <li><strong>Lance</strong> and <strong>Hugging Face</strong> then worked together to integrate Lance into the datasets repo for automated discovery, display, and native streaming (<a href=https://github.com/huggingface/datasets/pull/7913>#7913</a> Add lance format support, <a href=https://github.com/huggingface/datasets/pull/7950>#7950</a> Add examples for Lance datasets, <a href=https://github.com/huggingface/datasets/pull/7964>#7964</a> handle blob lance, <a href=https://github.com/huggingface/datasets/pull/7966>#7966</a> Infer types from lance blobs, <a href=https://github.com/huggingface/datasets/pull/7969>#7969</a> Count examples in lance).</li> </ul> <div class="admonition success"> <p class=admonition-title>Community-driven integration</p> <p>The integration was driven by a concrete use case (SLAF on the Hub), implemented in Lance and OpenDAL on top of Hugging Face's streaming and HfFileSystem work, and validated with Hugging Face's team. We're super grateful to everyone who helped make <code>hf://</code> a first-class path for Lance.</p> </div> <p>For more context, see Hugging Face's <a href=https://huggingface.co/blog/streaming-datasets>Streaming datasets: 100Ã— More Efficient</a> and the <a href=https://huggingface.co/docs/huggingface_hub/guides/hf_file_system>Interact with the Hub through the Filesystem API</a> guide.</p> <hr> <h2 id=beyond-single-cell-genomics-what-lance-on-hugging-face-means-for-aiml>Beyond Single-Cell Genomics: What Lance on Hugging Face Means for AI/ML<a class=headerlink href=#beyond-single-cell-genomics-what-lance-on-hugging-face-means-for-aiml title="Permanent link">&para;</a></h2> <p>Lance-on-HuggingFace isn't just for single-cell genomics or SLAF. The <a href=https://huggingface.co/lance-format><strong>lance-format</strong> org on Hugging Face</a> already hosts Lance datasets across modalities, all streamable via <code>hf://</code>:</p> <ul> <li><strong>Long-form text</strong>: <a href=https://huggingface.co/datasets/lance-format/fineweb-edu>fineweb-edu</a> (1.5B+ rows) and other tabular text datasets for pretraining and fine-tuning.</li> <li><strong>Images</strong>: <a href=https://huggingface.co/datasets/lance-format/laion-1m>laion-1m</a> and similar image (and imageâ€“text) collections with optional embeddings and vector search.</li> <li><strong>Video</strong>: <a href=https://huggingface.co/datasets/lance-format/Openvid-1M>openvid-lance</a> and related video datasets for multimodal training.</li> <li><strong>Robotics</strong>: <a href=https://huggingface.co/datasets/lance-format/lerobot_xvla-soft-fold>lerobot_xvla-soft-fold</a> and other robotics traces in Lance format for imitation and foundation models.</li> </ul> <p>The pattern is the same everywhere: <strong>publish once on the Hub, point Lance (or SLAF) at <code>hf://</code>, stream only what you need.</strong> That reduces duplication, speeds up iteration, and makes it easier to run large-scale training and batch jobs from a central, well-known platform.</p> <h3 id=future-workloads-embeddings-vector-search-and-update-rarely>Future workloads: embeddings, vector search, and "update rarely"<a class=headerlink href=#future-workloads-embeddings-vector-search-and-update-rarely title="Permanent link">&para;</a></h3> <p>The integration also opens the door to emerging AI/ML workloads on SLAF's roadmap: embedding data management, multimodal data apps, and low-latency vector search; all with the same "store on the Hub, stream to your compute" idea.</p> <p><strong>Embedding data management.</strong> Suppose you want scGPT or Transcriptformer embeddings on your private dataset. You can run batch inference pipelines directly off Lance on Hugging Face: stream cells from <code>hf://</code>, compute embeddings via serverless <a href=https://huggingface.co/inference-endpoints>Inference Endpoints</a> or <a href=https://huggingface.co/docs/huggingface-jobs>Hugging Face Jobs</a> on Hugging Face compute, and write results back into Lance tables on the Hub. You can mix and match inference, batch compute, and storage to your preferred alternatives to Hugging Face; the common thread is Lance and streaming, with Hugging Face making the plumbing convenient.</p> <p><strong>Apps that need vector search.</strong> Suppose you want a data app that uses nearest-neighbor search on embeddings to interactively apply cell typing to a new private dataset. Store embeddings in Lance tables on the Hub, attach a vector index (e.g. via <a href=https://lancedb.com/ >LanceDB</a>), and stream search results to your app. No need to download the full table or run your own vector store.</p> <p><strong>Upgrading embeddings without 100Ã— copies.</strong> When a new version of a third-party embedding model ships, you don't have to clone the dataset and re-embed everything. In Lance, adding a new embedding version is just a new column in your table on Hugging Face; you backfill only that column and leave the rest of the data untouched. That shifts the vision from <strong>"store once, stream everywhere"</strong> to <strong>"store once, update rarely, stream everywhere"</strong>, where "update rarely" is exactly this kind of inference-endpointâ€“driven embedding lifecycle.</p> <h3 id=what-this-unlocks-for-lance-and-hugging-face>What this unlocks for Lance and Hugging Face<a class=headerlink href=#what-this-unlocks-for-lance-and-hugging-face title="Permanent link">&para;</a></h3> <p>For <strong>Lance</strong>, the integration opens a new distribution channel: teams that already distribute multimodal datasets or embeddings on the Hub represent a beachhead, and Lance can expand into managed offerings and richer tooling for such teams. For <strong>Hugging Face</strong>, it strengthens a path to stickiness around end-to-end AI/ML workloads: not just data distribution, but streaming, <a href=https://huggingface.co/docs/huggingface-jobs>distributed training on HF compute</a>, batch inference, open vector and multimodal data lake use cases, and hybrid search applications via LanceDB and Lance. We're super excited to see how both ecosystems evolve.</p> <p>For the broader Lance Ã— Hugging Face story including multimodal blobs, vector search, and training-friendly storage, see LanceDB's post <a href=https://lancedb.com/blog/lance-x-huggingface-a-new-era-of-sharing-multimodal-data/ ><strong>Lance Ã— Hugging Face: A New Era of Sharing Multimodal Data on the Hub</strong></a>.</p> <p>We're excited to see how the community uses Lance and SLAF on Hugging Face and eager to expand support for more datasets.</p> <hr> <p><strong>Single-cell folks:</strong> Try <a href=https://huggingface.co/datasets/slaf-project/Parse-10M>Parse-10M</a> or <a href=https://huggingface.co/datasets/slaf-project/Tahoe-100M>Tahoe-100M</a> from the Hub this week: point <code>SLAFArray</code> or <code>read_slaf</code> at <code>hf://datasets/slaf-project/&lt;repo&gt;</code> and run a query or a training loop without downloading. Install: <code>pip install slafdb[ml]</code>. For more, see the <a href=https://slaf-project.github.io/slaf/ >SLAF documentation</a> and the <a href=https://huggingface.co/slaf-project>slaf-project org on Hugging Face</a>.</p> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="February 2, 2026 19:39:35 UTC">February 2, 2026</span> </span> <span class=md-source-file__fact> <span class=md-icon title=Created> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="January 31, 2026 09:54:22 UTC">January 31, 2026</span> </span> <span class=md-source-file__fact> <span class=md-icon title=Contributors> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 4a4 4 0 0 1 4 4 4 4 0 0 1-4 4 4 4 0 0 1-4-4 4 4 0 0 1 4-4m0 10c4.42 0 8 1.79 8 4v2H4v-2c0-2.21 3.58-4 8-4"/></svg> </span> <nav> Pavan Ramkumar </nav> </span> </aside> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2026 Pavan Ramkumar </div> </div> <div class=md-social> <a href=https://github.com/slaf-project/slaf target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"annotate": null, "base": "../..", "features": ["navigation.sections", "content.code.copy"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../assets/javascripts/bundle.79ae519e.min.js></script> <script src=../../javascripts/mathjax.js></script> <script src=../../javascripts/theme-reset.js></script> <script src=../../javascripts/copy-enhancement.js></script> <script src=../../javascripts/theme-aware-assets.js></script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script> </body> </html>